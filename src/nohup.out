(447, 11238)
(447, 958)
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 44, in mapstar
    return list(map(*args))
  File "spImpute.py", line 112, in run_impute
    imputed, _ = spImpute(ho_data, meta_data, ep)
  File "spImpute.py", line 43, in spImpute
    ri_impute = rankMinImpute(data.loc[ri_spots,:])
  File "spImpute.py", line 57, in rankMinImpute
    good_genes = data.columns[((ori_data > 3).sum() > 2)].tolist()
NameError: name 'ori_data' is not defined
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "spImpute.py", line 219, in <module>
    ep = select_ep(count_matrix, meta_data, k=2, n=ncore)
  File "spImpute.py", line 181, in select_ep
    perf_df = epislon_perf(ho_data, ho_mask, meta_data, original_data, fd, n)
  File "spImpute.py", line 134, in epislon_perf
    imputed = p.map(run_impute, params)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 266, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 644, in get
    raise self._value
NameError: name 'ori_data' is not defined
(447, 11238)
(447, 958)
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 44, in mapstar
    return list(map(*args))
  File "spImpute.py", line 112, in run_impute
    imputed, _ = spImpute(ho_data, meta_data, ep)
  File "spImpute.py", line 43, in spImpute
    ri_impute = rankMinImpute(data.loc[ri_spots,:])
  File "spImpute.py", line 101, in rankMinImpute
    imputed = pd.concat([bad_data, imputed], index=1)
TypeError: concat() got an unexpected keyword argument 'index'
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "spImpute.py", line 219, in <module>
    ep = select_ep(count_matrix, meta_data, k=2, n=ncore)
  File "spImpute.py", line 181, in select_ep
    perf_df = epislon_perf(ho_data, ho_mask, meta_data, original_data, fd, n)
  File "spImpute.py", line 134, in epislon_perf
    imputed = p.map(run_impute, params)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 266, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 644, in get
    raise self._value
TypeError: concat() got an unexpected keyword argument 'index'
Traceback (most recent call last):
  File "spImpute.py", line 249, in <module>
    count_matrix, meta_data = read_ST_data(count_fn)
  File "/houston_20t/alexw/ST/spImpute/utils.py", line 122, in read_ST_data
    data = pd.read_csv(count_fn, sep=",", index_col=0)
  File "/home/alexw/.local/lib/python3.6/site-packages/pandas/io/parsers.py", line 686, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/home/alexw/.local/lib/python3.6/site-packages/pandas/io/parsers.py", line 452, in _read
    parser = TextFileReader(fp_or_buf, **kwds)
  File "/home/alexw/.local/lib/python3.6/site-packages/pandas/io/parsers.py", line 936, in __init__
    self._make_engine(self.engine)
  File "/home/alexw/.local/lib/python3.6/site-packages/pandas/io/parsers.py", line 1168, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/home/alexw/.local/lib/python3.6/site-packages/pandas/io/parsers.py", line 1998, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 382, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 674, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: [Errno 2] No such file or directory: '../data/holdout_test/MousAD/raw.csv'
(293, 16148)
(293, 203)
(406, 17678)
(406, 507)
(488, 12304)
(488, 1426)
       RMSE      MAPE       SNR  ...     impMR     redMR  cv_fold
0  0.982925  0.067582  3.992644  ...  0.001900  0.535416        0
0  0.939286  0.066505  4.013578  ...  0.001059  0.536256        0
0  0.866413  0.063846  4.068347  ...  0.000286  0.537030        0
0  0.932648  0.066176  4.026616  ...  0.001446  0.537719        1
0  0.915745  0.065567  4.037728  ...  0.000824  0.538341        1
0  0.865158  0.063904  4.069475  ...  0.000319  0.538846        1

[6 rows x 9 columns]
0.6000000000000001
Epislon 0.60 is selected in 1476.6 seconds.
0 0
0 1
0 2
0 3
0 4
0 5
0 6
0 7
0 8
0 9
1 0
1 1
1 2
1 3
1 4
1 5
1 6
1 7
1 8
1 9
2 0
2 1
2 2
2 3
2 4
2 5
2 6
2 7
2 8
2 9
3 0
3 1
3 2
3 3
3 4
3 5
3 6
3 7
3 8
3 9
4 0
4 1
4 2
4 3
4 4
4 5
4 6
4 7
4 8
4 9
       RMSE      MAPE       SNR  ...     impMR     redMR  cv_fold
0  1.201312  0.102030  3.412896  ...  0.002142  0.544534        0
0  1.123089  0.098734  3.463495  ...  0.000826  0.545851        0
0  1.093667  0.097513  3.481177  ...  0.000330  0.546346        0
0  1.066802  0.095968  3.505572  ...  0.000194  0.546482        0
0  1.189837  0.101653  3.421973  ...  0.001914  0.545987        1
0  1.128390  0.098898  3.464194  ...  0.000700  0.547201        1
0  1.095615  0.097666  3.483078  ...  0.000335  0.547566        1
0  1.065008  0.095972  3.508615  ...  0.000155  0.547745        1

[8 rows x 9 columns]
0.6000000000000001
Epislon 0.60 is selected in 4193.6 seconds.
0 0
0 1
0 2
0 3
0 4
0 5
0 6
0 7
0 8
0 9
1 0
1 1
1 2
1 3
1 4
1 5
1 6
1 7
1 8
1 9
2 0
2 1
2 2
2 3
2 4
2 5
2 6
2 7
2 8
2 9
3 0
3 1
3 2
3 3
3 4
3 5
3 6
3 7
3 8
3 9
4 0
4 1
4 2
4 3
4 4
4 5
4 6
4 7
4 8
4 9
       RMSE      MAPE       SNR  ...     impMR     redMR  cv_fold
0  0.992546  0.105076  3.404235  ...  0.000624  0.543125        0
0  0.987287  0.104671  3.409687  ...  0.000481  0.543267        0
0  0.940197  0.101473  3.460096  ...  0.000093  0.543655        0
0  0.918928  0.099840  3.487694  ...  0.000026  0.543723        0
0  0.916907  0.099730  3.489423  ...  0.000029  0.543720        0
0  0.988434  0.104766  3.408122  ...  0.000624  0.544131        1
0  0.981799  0.104321  3.413636  ...  0.000440  0.544315        1
0  0.940632  0.101462  3.457868  ...  0.000076  0.544678        1
0  0.915730  0.099530  3.489831  ...  0.000022  0.544733        1
0  0.910144  0.099065  3.497440  ...  0.000007  0.544747        1

[10 rows x 9 columns]
0.8000000000000003
Epislon 0.80 is selected in 8105.3 seconds.
0 0
0 1
0 2
0 3
0 4
0 5
0 6
0 7
0 8
0 9
1 0
1 1
1 2
1 3
1 4
1 5
1 6
1 7
1 8
1 9
2 0
2 1
2 2
2 3
2 4
2 5
2 6
2 7
2 8
2 9
3 0
3 1
3 2
3 3
3 4
3 5
3 6
3 7
3 8
3 9
4 0
4 1
4 2
4 3
4 4
4 5
4 6
4 7
4 8
4 9
5 0
5 1
5 2
5 3
5 4
5 5
5 6
5 7
5 8
5 9
6 0
6 1
6 2
6 3
6 4
6 5
6 6
6 7
6 8
6 9
7 0
7 1
7 2
7 3
7 4
7 5
7 6
7 7
7 8
7 9
8 0
8 1
8 2
8 3
8 4
8 5
8 6
8 7
8 8
8 9
